## Đề bài: Kiểm thử và Triển khai Hệ thống Hoàn chỉnh - Phần 5

**Mục tiêu:** Kiểm thử toàn diện các thành phần đã phát triển (`shell-config-service`, Kong API Gateway, `shell-config-admin-frontend`) và chuẩn bị cho việc triển khai hệ thống. Đảm bảo các chức năng hoạt động đúng đắn, ổn định, và tuân thủ các yêu cầu kiến trúc đã đề ra, đặc biệt là về đa ngôn ngữ và quản lý cấu hình điều hướng.

**Phạm vi và Chức năng:**

1.  **Chuẩn bị Môi trường Kiểm thử:**
    *   **Khởi động các dịch vụ:** Sử dụng `docker-compose.yml` để khởi động tất cả các dịch vụ cần thiết trong môi trường phát triển cục bộ, bao gồm:
        *   Database (PostgreSQL).
        *   `shell-config-service` (Backend).
        *   Kong API Gateway và database của nó.
    *   **Cấu hình Kong API Gateway:** Đảm bảo Kong đã được cấu hình đúng đắn để định tuyến các yêu cầu từ frontend đến `shell-config-service`.

2.  **Kiểm thử Độc lập `shell-config-admin-frontend`:**
    *   **Chạy ứng dụng Frontend:** Khởi chạy `shell-config-admin-frontend` ở chế độ phát triển độc lập (ví dụ: `pnpm run dev`).
    *   **Kiểm thử chức năng CRUD cho Navigation Items:**
        *   **Hiển thị danh sách:** Xác minh rằng danh sách các mục điều hướng được tải và hiển thị chính xác, bao gồm cả cấu trúc phân cấp (mục cha-con).
        *   **Thêm mới:** Kiểm tra việc thêm một mục điều hướng mới (cả mục chính và mục con), đảm bảo dữ liệu được lưu trữ đúng đắn qua API Gateway và backend.
        *   **Chỉnh sửa:** Xác minh khả năng chỉnh sửa thông tin của một mục điều hướng hiện có, bao gồm cả việc thay đổi mục cha.
        *   **Xóa:** Kiểm tra chức năng xóa mục điều hướng, đảm bảo có xác nhận và xử lý đúng đắn các mục con liên quan.
        *   **Validation:** Đảm bảo các quy tắc kiểm tra dữ liệu đầu vào (ví dụ: trường bắt buộc, định dạng URL) hoạt động chính xác.
    *   **Kiểm thử Đa ngôn ngữ (i18n):**
        *   **Bộ chuyển đổi ngôn ngữ:** Xác minh rằng `LanguageSwitcher` hoạt động, cho phép chuyển đổi giữa Tiếng Việt và Tiếng Anh.
        *   **Hiển thị ngôn ngữ:** Đảm bảo tất cả các văn bản trên giao diện (tiêu đề, nhãn, nút, thông báo) được dịch và hiển thị đúng theo ngôn ngữ đã chọn.
        *   **Lưu trữ lựa chọn ngôn ngữ:** Kiểm tra xem lựa chọn ngôn ngữ có được lưu trữ (ví dụ: trong `localStorage`) và được khôi phục khi tải lại trang hay không.
    *   **Kiểm thử Responsive Design:** Đảm bảo giao diện hiển thị tốt và có thể sử dụng được trên các kích thước màn hình khác nhau (desktop, tablet, mobile).
    *   **Xử lý lỗi:** Kiểm tra cách ứng dụng xử lý các trường hợp lỗi từ API (ví dụ: lỗi server, lỗi validation) và hiển thị thông báo phù hợp cho người dùng.

3.  **Kiểm thử Tích hợp (Giữa các thành phần):**
    *   **Frontend <-> Kong <-> Backend:** Đảm bảo luồng dữ liệu từ `shell-config-admin-frontend` đi qua Kong API Gateway và đến `shell-config-service` một cách liền mạch và chính xác.
    *   **Backend <-> Database:** Xác minh rằng `shell-config-service` có thể tương tác với database (PostgreSQL) để lưu trữ và truy xuất dữ liệu cấu hình điều hướng.

4.  **Chuẩn bị Triển khai:**
    *   **Tài liệu hóa:** Cập nhật tài liệu về cách chạy và kiểm thử `shell-config-admin-frontend` độc lập.
    *   **Xem xét chiến lược triển khai:** Dựa trên tài liệu kiến trúc [1], xem xét các bước cần thiết để triển khai `shell-config-admin-frontend` (ví dụ: build production, cấu hình môi trường) và `shell-config-service` lên môi trường Staging/Production (sử dụng Docker Compose cho môi trường dev, hoặc Kubernetes cho Staging/Prod).
    *   **Lưu ý về tích hợp `shell-app-admin`:** Ghi chú rõ ràng rằng việc tích hợp `shell-config-admin-frontend` vào `shell-app-admin` sẽ là một bước riêng biệt, được thực hiện sau khi `shell-app-admin` được phát triển và sẵn sàng.

**Yêu cầu kỹ thuật:**

*   Sử dụng các công cụ kiểm thử trình duyệt (Developer Tools) để kiểm tra network requests, console logs, và trạng thái UI.
*   Sử dụng các lệnh `docker-compose` để quản lý các dịch vụ backend và Kong.

**Các bước thực hiện chính:**

1.  Khởi động môi trường Docker Compose.
2.  Kiểm tra cấu hình Kong API Gateway.
3.  Chạy `shell-config-admin-frontend` ở chế độ dev.
4.  Thực hiện kiểm thử thủ công tất cả các chức năng CRUD và đa ngôn ngữ trên giao diện.
5.  Ghi lại kết quả kiểm thử và các vấn đề phát hiện được.
6.  Đề xuất các bước tiếp theo cho việc triển khai chính thức.

**Tài liệu tham khảo:**

[1] Giáo Trình Kiến Trúc Hệ Thống Micro-Frontend (sheel).md


